# **종이소리** [![Hits](https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fgithub.com%2Fhoos007%2F2022CapstoneDesign-PaperSound&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=false)](https://hits.seeyoufarm.com)
종이책 BGM적용 프로젝트

라즈베리파이, 안드로이드 앱, 서버 를 통해 구현되어 있습니다.

이 프로젝트는 신라대학교 2022년 캡스톤디자인 경진대회에 참여한 프로젝트 입니다.
## 프로젝트 개요
### 이름
종이소리

### 기획 배경
마션 이라는 작품을 영화로도 보고 소설로도 읽었는데 영화를 먼저 보고 소설을 읽는 과정에서 소설의 자세한 묘사도 좋았지만 영화의 긴장감을 소설에서도 좀더 느끼게 했으면 좋겠다고 생각했습니다. 그래서 영화의 요소에서 소설에 적용할 수 있는 차이점을 생각하다보니 효과음이나 배경음악들을 적용할 수 있겠다고 생각했습니다. 그래서 종이책을 읽으면서도 bgm을 들을 수 있도록 하는 장치를 고안했고 이 종이소리 프로젝트를 진행하게 되었습니다.

### 주요 기능
1. 현재 읽고있는 페이지를 추적해서 위치에 맞는 음원을 재생
2. 온라인 스트리밍 기능

## 프로젝트 기간
2022.05.01 ~ 2022.12.15

## 참여인원
7인 팀 프로젝트

| 이름 | 작책 | 깃허브 | 담당 역할 및 기능 | 비고 |
| ---- | ---- | ---- | ---- | ---- |
| 이효승 | 팀장 | [hoos007](https://github.com/hoos007) | 프로젝트 총괄, 전체 동작 설계 및 구현, 임베디드 장치 설계 및 구현, 모바일 앱 설계 및 구현, 서버 설계 및 구현, 3D모델링 설계 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 김재찬 | 부팀장 |  | 서버 설계 및 구현 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 이희웅 | 총무 |  | 3D모델링 설계 및 제작 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 강민서 | 서기 | [oesnimgnak](https://github.com/oesnimgnak) | 모바일 앱 디자인 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 허유진 | 팀원 |  | 모바일 앱 디자인 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 윤수연 | 팀원 |  | 모바일 앱 디자인 | 신라대학교 컴퓨터소트웨어공학부 3학년 |
| 박제우 | 팀원 |  | 서버 설계 및 구현 | 신라대학교 컴퓨터소트웨어공학부 3학년 |

## 기술 스택 및 환경
### 환경
#### 라즈베리 파이 장치
<img src="https://img.shields.io/badge/raspberry pi-A22846?style=for-the-badge&logo=raspberrypi&logoColor=white"> <img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white">

#### 모바일 앱
<img src="https://img.shields.io/badge/android-3DDC84?style=for-the-badge&logo=android&logoColor=white"> <img src="https://img.shields.io/badge/java-FFFFFF?style=for-the-badge&logo=openjdk&logoColor=black">

#### 서버
<img src="https://img.shields.io/badge/ubuntu-E95420?style=for-the-badge&logo=ubuntu&logoColor=white"> <img src="https://img.shields.io/badge/java-FFFFFF?style=for-the-badge&logo=openjdk&logoColor=black"> <img src="https://img.shields.io/badge/apache tomcat-F8DC75?style=for-the-badge&logo=apachetomcat&logoColor=black"> <img src="https://img.shields.io/badge/mariadb-003545?style=for-the-badge&logo=mariadb&logoColor=white">

### 개발
#### 라즈베리 파이 장치
<img src="https://img.shields.io/badge/raspberry pi-A22846?style=for-the-badge&logo=raspberrypi&logoColor=white"> <img src="https://img.shields.io/badge/raspberry pi os-A81D33?style=for-the-badge&logo=&logoColor=white"> <img src="https://img.shields.io/badge/Thonny Python Ide-FFFFFF?style=for-the-badge&logo=&logoColor=white"> <img src="https://img.shields.io/badge/python-3776AB?style=for-the-badge&logo=python&logoColor=white">

#### 모바일 앱
<img src="https://img.shields.io/badge/mac os-000000?style=for-the-badge&logo=macos&logoColor=white"> <img src="https://img.shields.io/badge/android studio-3DDC84?style=for-the-badge&logo=androidstudio&logoColor=white"> <img src="https://img.shields.io/badge/java-FFFFFF?style=for-the-badge&logo=openjdk&logoColor=black">

#### 서버
<img src="https://img.shields.io/badge/mac os-000000?style=for-the-badge&logo=macos&logoColor=white"> <img src="https://img.shields.io/badge/eclipse ide-2C2255?style=for-the-badge&logo=eclipseide&logoColor=white"> <img src="https://img.shields.io/badge/apache tomcat-F8DC75?style=for-the-badge&logo=apachetomcat&logoColor=black"> <img src="https://img.shields.io/badge/java-FFFFFF?style=for-the-badge&logo=openjdk&logoColor=black"> <img src="https://img.shields.io/badge/mariadb-003545?style=for-the-badge&logo=mariadb&logoColor=white">

### 협업
<img src="https://img.shields.io/badge/notion-000000?style=for-the-badge&logo=notion&logoColor=white"> <img src="https://img.shields.io/badge/discord-5865F2?style=for-the-badge&logo=discord&logoColor=white">

## 동작 사진
### 동작 구현을 위한 스탠드형 프로토타입 제작
![프로토타입](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/819d4d9c-e711-4407-9e9b-74fe8409ed1c)

### 장치 사진
![장치 사진](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/bc958b1c-9b33-45c8-aed0-a7c0968b4967)

### 장치 장착 사진
![장착 사진 01](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/2a30ea11-bdcd-48b9-b9ef-435be6f30f1c)

![장착 사진 02](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/7a2b8985-02aa-484d-94e8-a9e8e676f2fd)

### 장착 위치
![장착 위치](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/b56c4afd-1aad-4cae-92ab-b8314fb16a7c)

### 앱 메인
![앱 메인](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/dbf8a25c-ab8f-48a0-8196-40a481988168)

### 메인에서 책 선택 후 앱 음원재생
![앱 음원재생](https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/a14fd295-b610-46f7-a82a-580485e2977d)

## 구현
### 동작 구조
<img width="1242" alt="스크린샷 2023-08-05 23 25 33" src="https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/1eb4c5bc-b540-42c3-a40d-2ff2d4a374b1">

### 서버 구조
<img width="1070" alt="스크린샷 2023-08-05 22 03 08" src="https://github.com/hoos007/2022CapstoneDesign-PaperSound/assets/113767998/f7d7546d-a97f-4c77-9496-d7df00862011">

### 페이지 추적 장치 구조
1. 라즈베리 파이 제로 2를 사용해 동작합니다.
2. 카메라가 장착되어있어 책 페이지의 QR코드를 실시간으로 확인합니다. 이를통해 현재 페이지를 인식합니다.
3. 동작은 파이썬으로 구현되어있습니다.
4. 전원을 켜면 자동으로 파이썬 프로그램이 실행되도록 시작프로그램 지정 되어있습니다.
5. 케이스를 3D프린터로 직접 설계하고 제작했습니다.
6. 충전식 베터리를 포함하고 있습니다.
7. 블루투스를 통해 스마트폰과 통신합니다.
8. 페이지 정보를 인식하면 블루투스로 스마트폰에 전송합니다.

### 앱 구조
1. 서버 요청은 url로 요청합니다.
2. 앱을 시작하면 바로 서버에 책 리스트를 요청해 받아옵니다.
3. 메인 화면에서 책 리스트를 보여줍니다.
4. 장치 연결 버튼을 누르면 블루투스 장치 검색을 시도하고 장치가 있는경우 선택하면 연결합니다. 이때 페이지 추적 장치는 화면과 인터페이스가 없기 때문에 pin검증 없이 자동으로 연결되도록 구현되어 있습니다.
5. 장치 연결 이후 책을 선택하면 다음 요청부터 이 책에대한 내용이 같이 전송됩니다.
6. 페이지 추적 장치로부터 페이지 정보를 받으면 이를 책 정보와 함꼐 서버로 음원을 요청합니다.
7. 서버에서 음원을 받으면 재생합니다.
8. service를 사용해 백그라운드에서도 동작하도록 구현되어있습니다.
